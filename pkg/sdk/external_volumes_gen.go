// Code generated by SDK builder generator (v0.1.0); DO NOT EDIT.

package sdk

import (
	"context"
	"database/sql"
)

type ExternalVolumes interface {
	Create(ctx context.Context, request *CreateExternalVolumeRequest) error
	Alter(ctx context.Context, request *AlterExternalVolumeRequest) error
	Drop(ctx context.Context, request *DropExternalVolumeRequest) error
	DropSafely(ctx context.Context, id AccountObjectIdentifier) error
	Describe(ctx context.Context, id AccountObjectIdentifier) ([]ExternalVolumeProperty, error)
	Show(ctx context.Context, request *ShowExternalVolumeRequest) ([]ExternalVolume, error)
	ShowByID(ctx context.Context, id AccountObjectIdentifier) (*ExternalVolume, error)
	ShowByIDSafely(ctx context.Context, id AccountObjectIdentifier) (*ExternalVolume, error)
}

// CreateExternalVolumeOptions is based on https://docs.snowflake.com/en/sql-reference/sql/create-external-volume.
type CreateExternalVolumeOptions struct {
	create           bool                                `ddl:"static" sql:"CREATE"`
	OrReplace        *bool                               `ddl:"keyword" sql:"OR REPLACE"`
	externalVolume   bool                                `ddl:"static" sql:"EXTERNAL VOLUME"`
	IfNotExists      *bool                               `ddl:"keyword" sql:"IF NOT EXISTS"`
	name             AccountObjectIdentifier             `ddl:"identifier"`
	StorageLocations []ExternalVolumeStorageLocationItem `ddl:"parameter,parentheses" sql:"STORAGE_LOCATIONS"`
	AllowWrites      *bool                               `ddl:"parameter" sql:"ALLOW_WRITES"`
	Comment          *string                             `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

type ExternalVolumeStorageLocationItem struct {
	ExternalVolumeStorageLocation ExternalVolumeStorageLocation `ddl:"list,parentheses,no_comma"`
}

type ExternalVolumeStorageLocation struct {
	Name                          string                         `ddl:"parameter,single_quotes" sql:"NAME"`
	S3StorageLocationParams       *S3StorageLocationParams       `ddl:"list,no_comma"`
	GCSStorageLocationParams      *GCSStorageLocationParams      `ddl:"list,no_comma"`
	AzureStorageLocationParams    *AzureStorageLocationParams    `ddl:"list,no_comma"`
	S3CompatStorageLocationParams *S3CompatStorageLocationParams `ddl:"list,no_comma"`
}

type S3StorageLocationParams struct {
	StorageProvider          S3StorageProvider           `ddl:"parameter,single_quotes" sql:"STORAGE_PROVIDER"`
	StorageAwsRoleArn        string                      `ddl:"parameter,single_quotes" sql:"STORAGE_AWS_ROLE_ARN"`
	StorageBaseUrl           string                      `ddl:"parameter,single_quotes" sql:"STORAGE_BASE_URL"`
	StorageAwsExternalId     *string                     `ddl:"parameter,single_quotes" sql:"STORAGE_AWS_EXTERNAL_ID"`
	StorageAwsAccessPointArn *string                     `ddl:"parameter,single_quotes" sql:"STORAGE_AWS_ACCESS_POINT_ARN"`
	UsePrivatelinkEndpoint   *bool                       `ddl:"parameter" sql:"USE_PRIVATELINK_ENDPOINT"`
	Encryption               *ExternalVolumeS3Encryption `ddl:"list,parentheses,no_comma" sql:"ENCRYPTION ="`
}

type ExternalVolumeS3Encryption struct {
	EncryptionType S3EncryptionType `ddl:"parameter,single_quotes" sql:"TYPE"`
	KmsKeyId       *string          `ddl:"parameter,single_quotes" sql:"KMS_KEY_ID"`
}

type GCSStorageLocationParams struct {
	StorageProviderGcs string                       `ddl:"static" sql:"STORAGE_PROVIDER = 'GCS'"`
	StorageBaseUrl     string                       `ddl:"parameter,single_quotes" sql:"STORAGE_BASE_URL"`
	Encryption         *ExternalVolumeGCSEncryption `ddl:"list,parentheses,no_comma" sql:"ENCRYPTION ="`
}

type ExternalVolumeGCSEncryption struct {
	EncryptionType GCSEncryptionType `ddl:"parameter,single_quotes" sql:"TYPE"`
	KmsKeyId       *string           `ddl:"parameter,single_quotes" sql:"KMS_KEY_ID"`
}

type AzureStorageLocationParams struct {
	StorageProviderAzure   string `ddl:"static" sql:"STORAGE_PROVIDER = 'AZURE'"`
	AzureTenantId          string `ddl:"parameter,single_quotes" sql:"AZURE_TENANT_ID"`
	StorageBaseUrl         string `ddl:"parameter,single_quotes" sql:"STORAGE_BASE_URL"`
	UsePrivatelinkEndpoint *bool  `ddl:"parameter" sql:"USE_PRIVATELINK_ENDPOINT"`
}

type S3CompatStorageLocationParams struct {
	StorageProviderS3Compat string                             `ddl:"static" sql:"STORAGE_PROVIDER = 'S3COMPAT'"`
	StorageBaseUrl          string                             `ddl:"parameter,single_quotes" sql:"STORAGE_BASE_URL"`
	StorageEndpoint         string                             `ddl:"parameter,single_quotes" sql:"STORAGE_ENDPOINT"`
	Credentials             *ExternalVolumeS3CompatCredentials `ddl:"list,parentheses,no_comma" sql:"CREDENTIALS ="`
}

type ExternalVolumeS3CompatCredentials struct {
	AwsKeyId     string `ddl:"parameter,single_quotes" sql:"AWS_KEY_ID"`
	AwsSecretKey string `ddl:"parameter,single_quotes" sql:"AWS_SECRET_KEY"`
}

// AlterExternalVolumeOptions is based on https://docs.snowflake.com/en/sql-reference/sql/alter-external-volume.
type AlterExternalVolumeOptions struct {
	alter                 bool                                      `ddl:"static" sql:"ALTER"`
	externalVolume        bool                                      `ddl:"static" sql:"EXTERNAL VOLUME"`
	IfExists              *bool                                     `ddl:"keyword" sql:"IF EXISTS"`
	name                  AccountObjectIdentifier                   `ddl:"identifier"`
	RemoveStorageLocation *string                                   `ddl:"parameter,single_quotes,no_equals" sql:"REMOVE STORAGE_LOCATION"`
	Set                   *AlterExternalVolumeSet                   `ddl:"keyword" sql:"SET"`
	AddStorageLocation    *ExternalVolumeStorageLocationItem        `ddl:"parameter" sql:"ADD STORAGE_LOCATION"`
	UpdateStorageLocation *AlterExternalVolumeUpdateStorageLocation `ddl:"keyword" sql:"UPDATE"`
}

type AlterExternalVolumeSet struct {
	AllowWrites *bool   `ddl:"parameter" sql:"ALLOW_WRITES"`
	Comment     *string `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

type AlterExternalVolumeUpdateStorageLocation struct {
	StorageLocation string                          `ddl:"parameter,single_quotes,no_equals" sql:"STORAGE_LOCATION"`
	Credentials     ExternalVolumeUpdateCredentials `ddl:"list,parentheses,no_comma" sql:"CREDENTIALS ="`
}

type ExternalVolumeUpdateCredentials struct {
	AwsKeyId     string `ddl:"parameter,single_quotes" sql:"AWS_KEY_ID"`
	AwsSecretKey string `ddl:"parameter,single_quotes" sql:"AWS_SECRET_KEY"`
}

// DropExternalVolumeOptions is based on https://docs.snowflake.com/en/sql-reference/sql/drop-external-volume.
type DropExternalVolumeOptions struct {
	drop           bool                    `ddl:"static" sql:"DROP"`
	externalVolume bool                    `ddl:"static" sql:"EXTERNAL VOLUME"`
	IfExists       *bool                   `ddl:"keyword" sql:"IF EXISTS"`
	name           AccountObjectIdentifier `ddl:"identifier"`
}

// DescribeExternalVolumeOptions is based on https://docs.snowflake.com/en/sql-reference/sql/desc-external-volume.
type DescribeExternalVolumeOptions struct {
	describe       bool                    `ddl:"static" sql:"DESCRIBE"`
	externalVolume bool                    `ddl:"static" sql:"EXTERNAL VOLUME"`
	name           AccountObjectIdentifier `ddl:"identifier"`
}

type externalVolumeDescRow struct {
	ParentProperty  string `db:"parent_property"`
	Property        string `db:"property"`
	PropertyType    string `db:"property_type"`
	PropertyValue   string `db:"property_value"`
	PropertyDefault string `db:"property_default"`
}

type ExternalVolumeProperty struct {
	Parent  string
	Name    string
	Type    string
	Value   string
	Default string
}

// ShowExternalVolumeOptions is based on https://docs.snowflake.com/en/sql-reference/sql/show-external-volumes.
type ShowExternalVolumeOptions struct {
	show            bool  `ddl:"static" sql:"SHOW"`
	externalVolumes bool  `ddl:"static" sql:"EXTERNAL VOLUMES"`
	Like            *Like `ddl:"keyword" sql:"LIKE"`
}

type externalVolumeShowRow struct {
	Name        string         `db:"name"`
	AllowWrites bool           `db:"allow_writes"`
	Comment     sql.NullString `db:"comment"`
}

type ExternalVolume struct {
	Name        string
	AllowWrites bool
	Comment     string
}

func (v *ExternalVolume) ID() AccountObjectIdentifier {
	return NewAccountObjectIdentifier(v.Name)
}

func (v *ExternalVolume) ObjectType() ObjectType {
	return ObjectTypeExternalVolume
}
