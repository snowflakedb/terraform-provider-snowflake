// Code generated by SDK builder generator (v0.1.0); DO NOT EDIT.

package sdk

import (
	"context"
	"database/sql"
	"time"
)

// HybridTables interface operations
type HybridTables interface {
	Create(ctx context.Context, request *CreateHybridTableRequest) error
	Alter(ctx context.Context, request *AlterHybridTableRequest) error
	Drop(ctx context.Context, request *DropHybridTableRequest) error
	DropSafely(ctx context.Context, id SchemaObjectIdentifier) error
	Show(ctx context.Context, request *ShowHybridTableRequest) ([]HybridTable, error)
	ShowByID(ctx context.Context, id SchemaObjectIdentifier) (*HybridTable, error)
	ShowByIDSafely(ctx context.Context, id SchemaObjectIdentifier) (*HybridTable, error)
	Describe(ctx context.Context, id SchemaObjectIdentifier) ([]HybridTableDetails, error)
	// Standalone index operations - implemented in hybrid_tables_ext.go
	CreateIndex(ctx context.Context, request *CreateHybridTableIndexRequest) error
	DropIndex(ctx context.Context, request *DropHybridTableIndexRequest) error
	ShowIndexes(ctx context.Context, request *ShowHybridTableIndexesRequest) ([]HybridTableIndex, error)
}

// CreateHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/create-hybrid-table.
type CreateHybridTableOptions struct {
	create                  bool                                    `ddl:"static" sql:"CREATE"`
	OrReplace               *bool                                   `ddl:"keyword" sql:"OR REPLACE"`
	hybridTable             bool                                    `ddl:"static" sql:"HYBRID TABLE"`
	IfNotExists             *bool                                   `ddl:"keyword" sql:"IF NOT EXISTS"`
	name                    SchemaObjectIdentifier                  `ddl:"identifier"`
	ColumnsAndConstraints   HybridTableColumnsConstraintsAndIndexes `ddl:"list,parentheses"`
	DataRetentionTimeInDays *int                                    `ddl:"parameter" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	Comment                 *string                                 `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

// AlterHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/alter-table.
type AlterHybridTableOptions struct {
	alter              bool                           `ddl:"static" sql:"ALTER"`
	table              bool                           `ddl:"static" sql:"TABLE"`
	IfExists           *bool                          `ddl:"keyword" sql:"IF EXISTS"`
	name               SchemaObjectIdentifier         `ddl:"identifier"`
	NewName            *SchemaObjectIdentifier        `ddl:"identifier" sql:"RENAME TO"`
	AddColumnAction    *HybridTableAddColumnAction    `ddl:"keyword"`
	ConstraintAction   *HybridTableConstraintAction   `ddl:"keyword"`
	AlterColumnAction  *HybridTableAlterColumnAction  `ddl:"keyword"`
	ModifyColumnAction *HybridTableModifyColumnAction `ddl:"keyword"`
	DropColumnAction   *HybridTableDropColumnAction   `ddl:"keyword"`
	DropIndexAction    *HybridTableDropIndexAction    `ddl:"keyword"`
	Set                *HybridTableSetProperties      `ddl:"keyword" sql:"SET"`
	Unset              *HybridTableUnsetProperties    `ddl:"keyword" sql:"UNSET"`
}

// HybridTableAddColumnAction defines ALTER TABLE ... ADD COLUMN for hybrid tables.
// https://docs.snowflake.com/en/sql-reference/sql/alter-table
type HybridTableAddColumnAction struct {
	add              bool                               `ddl:"static" sql:"ADD"`
	column           bool                               `ddl:"static" sql:"COLUMN"`
	IfNotExists      *bool                              `ddl:"keyword" sql:"IF NOT EXISTS"`
	Name             string                             `ddl:"keyword"`
	Type             DataType                           `ddl:"keyword"`
	Collate          *string                            `ddl:"parameter,no_equals,single_quotes" sql:"COLLATE"`
	DefaultValue     *ColumnDefaultValue                `ddl:"keyword"`
	InlineConstraint *HybridTableColumnInlineConstraint `ddl:"keyword"`
	Comment          *string                            `ddl:"parameter,no_equals,single_quotes" sql:"COMMENT"`
}

type HybridTableConstraintAction struct {
	Add    *HybridTableConstraintActionAdd    `ddl:"keyword"`
	Drop   *HybridTableConstraintActionDrop   `ddl:"keyword"`
	Rename *HybridTableConstraintActionRename `ddl:"keyword"`
}

type HybridTableConstraintActionAdd struct {
	add                 bool                           `ddl:"static" sql:"ADD"`
	OutOfLineConstraint HybridTableOutOfLineConstraint `ddl:"keyword"`
}

type HybridTableConstraintActionDrop struct {
	drop bool `ddl:"static" sql:"DROP"`
	// One of: ConstraintName, PrimaryKey, Unique, ForeignKey (with optional Columns)
	ConstraintName *string  `ddl:"parameter,no_equals" sql:"CONSTRAINT"`
	PrimaryKey     *bool    `ddl:"keyword" sql:"PRIMARY KEY"`
	Unique         *bool    `ddl:"keyword" sql:"UNIQUE"`
	ForeignKey     *bool    `ddl:"keyword" sql:"FOREIGN KEY"`
	Columns        []string `ddl:"keyword,parentheses"`
	// CASCADE or RESTRICT
	Cascade  *bool `ddl:"keyword" sql:"CASCADE"`
	Restrict *bool `ddl:"keyword" sql:"RESTRICT"`
}

// HybridTableConstraintActionRename mirrors the structure of TableConstraintRenameAction in tables.go.
// These types cannot be shared directly because the DDL generation context differs:
// in tables.go the RENAME CONSTRAINT keyword is on the parent field tag, while here
// it is embedded as a static SQL prefix within the struct itself.
// HybridTableConstraintActionRename is defined in hybrid_tables_ext.go (requires manual DDL tag adjustments).

// HybridTableAlterColumnAction is defined in hybrid_tables_ext.go (requires manual DDL tag adjustments).

// HybridTableModifyColumnAction is defined in hybrid_tables_ext.go (requires manual DDL tag adjustments).

// HybridTableDropColumnAction is defined in hybrid_tables_ext.go (requires manual DDL tag adjustments).

// HybridTableDropIndexAction is defined in hybrid_tables_ext.go (requires manual DDL tag adjustments).

type HybridTableSetProperties struct {
	DataRetentionTimeInDays    *int    `ddl:"parameter" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	MaxDataExtensionTimeInDays *int    `ddl:"parameter" sql:"MAX_DATA_EXTENSION_TIME_IN_DAYS"`
	ChangeTracking             *bool   `ddl:"parameter" sql:"CHANGE_TRACKING"`
	DefaultDdlCollation        *string `ddl:"parameter,single_quotes" sql:"DEFAULT_DDL_COLLATION"`
	EnableSchemaEvolution      *bool   `ddl:"parameter" sql:"ENABLE_SCHEMA_EVOLUTION"`
	Comment                    *string `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

type HybridTableUnsetProperties struct {
	DataRetentionTimeInDays    *bool `ddl:"keyword" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	MaxDataExtensionTimeInDays *bool `ddl:"keyword" sql:"MAX_DATA_EXTENSION_TIME_IN_DAYS"`
	ChangeTracking             *bool `ddl:"keyword" sql:"CHANGE_TRACKING"`
	DefaultDdlCollation        *bool `ddl:"keyword" sql:"DEFAULT_DDL_COLLATION"`
	EnableSchemaEvolution      *bool `ddl:"keyword" sql:"ENABLE_SCHEMA_EVOLUTION"`
	Comment                    *bool `ddl:"keyword" sql:"COMMENT"`
}

// DropHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/drop-table.
type DropHybridTableOptions struct {
	drop     bool                   `ddl:"static" sql:"DROP"`
	table    bool                   `ddl:"static" sql:"TABLE"`
	IfExists *bool                  `ddl:"keyword" sql:"IF EXISTS"`
	name     SchemaObjectIdentifier `ddl:"identifier"`
	Cascade  *bool                  `ddl:"keyword" sql:"CASCADE"`
	Restrict *bool                  `ddl:"keyword" sql:"RESTRICT"`
}

// ShowHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/show-hybrid-tables.
type ShowHybridTableOptions struct {
	show         bool       `ddl:"static" sql:"SHOW"`
	Terse        *bool      `ddl:"keyword" sql:"TERSE"`
	hybridTables bool       `ddl:"static" sql:"HYBRID TABLES"`
	Like         *Like      `ddl:"keyword" sql:"LIKE"`
	In           *In        `ddl:"keyword" sql:"IN"`
	StartsWith   *string    `ddl:"parameter,single_quotes,no_equals" sql:"STARTS WITH"`
	Limit        *LimitFrom `ddl:"keyword" sql:"LIMIT"`
}

type hybridTableRow struct {
	CreatedOn    time.Time      `db:"created_on"`
	Name         string         `db:"name"`
	DatabaseName string         `db:"database_name"`
	SchemaName   string         `db:"schema_name"`
	Owner        sql.NullString `db:"owner"`
	// Manually adjusted: rows and bytes can be NULL for newly created tables
	Rows          sql.NullInt64  `db:"rows"`
	Bytes         sql.NullInt64  `db:"bytes"`
	Comment       sql.NullString `db:"comment"`
	OwnerRoleType sql.NullString `db:"owner_role_type"`
}

type HybridTable struct {
	CreatedOn     time.Time
	Name          string
	DatabaseName  string
	SchemaName    string
	Owner         string
	Rows          int
	Bytes         int
	Comment       string
	OwnerRoleType string
}

func (v *HybridTable) ID() SchemaObjectIdentifier {
	return NewSchemaObjectIdentifier(v.DatabaseName, v.SchemaName, v.Name)
}

func (v *HybridTable) ObjectType() ObjectType {
	return ObjectTypeHybridTable
}

// DescribeHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/desc-table.
type DescribeHybridTableOptions struct {
	describe bool                   `ddl:"static" sql:"DESCRIBE"`
	table    bool                   `ddl:"static" sql:"TABLE"`
	name     SchemaObjectIdentifier `ddl:"identifier"`
}

// hybridTableDetailsRow is defined in hybrid_tables_ext.go (requires manual DDL tag adjustments for "null?" column).

// HybridTableDetails is defined in hybrid_tables_ext.go (requires manual DDL tag adjustments).
