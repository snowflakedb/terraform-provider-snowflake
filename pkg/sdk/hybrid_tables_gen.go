// Code generated by SDK builder generator (v0.1.0); DO NOT EDIT.

package sdk

import (
	"context"
	"database/sql"
	"time"
)

// HybridTables interface operations
type HybridTables interface {
	Create(ctx context.Context, request *CreateHybridTableRequest) error
	Alter(ctx context.Context, request *AlterHybridTableRequest) error
	Drop(ctx context.Context, request *DropHybridTableRequest) error
	DropSafely(ctx context.Context, id SchemaObjectIdentifier) error
	Show(ctx context.Context, request *ShowHybridTableRequest) ([]HybridTable, error)
	ShowByID(ctx context.Context, id SchemaObjectIdentifier) (*HybridTable, error)
	ShowByIDSafely(ctx context.Context, id SchemaObjectIdentifier) (*HybridTable, error)
	Describe(ctx context.Context, id SchemaObjectIdentifier) ([]HybridTableDetails, error)
	// Standalone index operations - implemented in hybrid_tables_ext.go
	CreateIndex(ctx context.Context, request *CreateHybridTableIndexRequest) error
	DropIndex(ctx context.Context, request *DropHybridTableIndexRequest) error
	ShowIndexes(ctx context.Context, request *ShowHybridTableIndexesRequest) ([]HybridTableIndex, error)
}

// CreateHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/create-hybrid-table.
type CreateHybridTableOptions struct {
	create                  bool                                    `ddl:"static" sql:"CREATE"`
	OrReplace               *bool                                   `ddl:"keyword" sql:"OR REPLACE"`
	hybridTable             bool                                    `ddl:"static" sql:"HYBRID TABLE"`
	IfNotExists             *bool                                   `ddl:"keyword" sql:"IF NOT EXISTS"`
	name                    SchemaObjectIdentifier                  `ddl:"identifier"`
	ColumnsAndConstraints   HybridTableColumnsConstraintsAndIndexes `ddl:"list,parentheses"`
	DataRetentionTimeInDays *int                                    `ddl:"parameter" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	Comment                 *string                                 `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

// AlterHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/alter-table.
type AlterHybridTableOptions struct {
	alter              bool                           `ddl:"static" sql:"ALTER"`
	table              bool                           `ddl:"static" sql:"TABLE"`
	IfExists           *bool                          `ddl:"keyword" sql:"IF EXISTS"`
	name               SchemaObjectIdentifier         `ddl:"identifier"`
	ConstraintAction   *HybridTableConstraintAction   `ddl:"keyword"`
	AlterColumnAction  *HybridTableAlterColumnAction  `ddl:"keyword"`
	ModifyColumnAction *HybridTableModifyColumnAction `ddl:"keyword"`
	DropColumnAction   *HybridTableDropColumnAction   `ddl:"keyword"`
	DropIndexAction    *HybridTableDropIndexAction    `ddl:"keyword"`
	Set                *HybridTableSetProperties      `ddl:"keyword" sql:"SET"`
	Unset              *HybridTableUnsetProperties    `ddl:"keyword" sql:"UNSET"`
}

type HybridTableConstraintAction struct {
	Add    *HybridTableConstraintActionAdd    `ddl:"keyword"`
	Drop   *HybridTableConstraintActionDrop   `ddl:"keyword"`
	Rename *HybridTableConstraintActionRename `ddl:"keyword"`
}

type HybridTableConstraintActionAdd struct {
	add                 bool                           `ddl:"static" sql:"ADD"`
	OutOfLineConstraint HybridTableOutOfLineConstraint `ddl:"keyword"`
}

// HybridTableConstraintActionDrop follows the common Constraint Drop Action Pattern.
// See common_table_types.go for canonical documentation and ValidateConstraintDropFields.
// This struct mirrors TableConstraintDropAction from tables.go.
type HybridTableConstraintActionDrop struct {
	drop bool `ddl:"static" sql:"DROP"`
	// One of: ConstraintName, PrimaryKey, Unique, ForeignKey (with optional Columns)
	ConstraintName *string  `ddl:"parameter,no_equals" sql:"CONSTRAINT"`
	PrimaryKey     *bool    `ddl:"keyword" sql:"PRIMARY KEY"`
	Unique         *bool    `ddl:"keyword" sql:"UNIQUE"`
	ForeignKey     *bool    `ddl:"keyword" sql:"FOREIGN KEY"`
	Columns        []string `ddl:"keyword,parentheses"`
	// CASCADE or RESTRICT
	Cascade  *bool `ddl:"keyword" sql:"CASCADE"`
	Restrict *bool `ddl:"keyword" sql:"RESTRICT"`
}

// HybridTableConstraintActionRename follows the common Constraint Rename Action Pattern.
// See common_table_types.go for canonical documentation and ValidateConstraintRenameFields.
// This struct mirrors TableConstraintRenameAction from tables.go.
type HybridTableConstraintActionRename struct {
	renameConstraint bool   `ddl:"static" sql:"RENAME CONSTRAINT"`
	OldName          string `ddl:"keyword"`
	// Manually adjusted: generator produces ddl:"keyword" sql:"TO" which doesn't emit TO keyword.
	// See tables.go:368 TableConstraintRenameAction for the correct pattern.
	NewName string `ddl:"parameter,no_equals" sql:"TO"`
}

type HybridTableAlterColumnAction struct {
	alterColumn bool   `ddl:"static" sql:"ALTER COLUMN"`
	ColumnName  string `ddl:"keyword"`
	// Manually adjusted: ALTER COLUMN syntax requires "COMMENT 'value'" not "COMMENT = 'value'"
	// See: https://docs.snowflake.com/en/sql-reference/sql/alter-table
	Comment      *string `ddl:"parameter,no_equals,single_quotes" sql:"COMMENT"`
	UnsetComment *bool   `ddl:"keyword" sql:"UNSET COMMENT"`
}

// HybridTableModifyColumnAction is an alias for ALTER COLUMN.
// MODIFY is an alias for ALTER in Snowflake when working with columns.
type HybridTableModifyColumnAction struct {
	modifyColumn bool   `ddl:"static" sql:"MODIFY COLUMN"`
	ColumnName   string `ddl:"keyword"`
	Comment      *string `ddl:"parameter,no_equals,single_quotes" sql:"COMMENT"`
	UnsetComment *bool   `ddl:"keyword" sql:"UNSET COMMENT"`
}

type HybridTableDropColumnAction struct {
	dropColumn bool   `ddl:"static" sql:"DROP COLUMN"`
	ColumnName string `ddl:"keyword"`
}

type HybridTableDropIndexAction struct {
	dropIndex bool   `ddl:"static" sql:"DROP INDEX"`
	IndexName string `ddl:"keyword"`
}

type HybridTableSetProperties struct {
	DataRetentionTimeInDays *int    `ddl:"parameter" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	Comment                 *string `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

type HybridTableUnsetProperties struct {
	DataRetentionTimeInDays *bool `ddl:"keyword" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	Comment                 *bool `ddl:"keyword" sql:"COMMENT"`
}

// DropHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/drop-table.
type DropHybridTableOptions struct {
	drop     bool                   `ddl:"static" sql:"DROP"`
	table    bool                   `ddl:"static" sql:"TABLE"`
	IfExists *bool                  `ddl:"keyword" sql:"IF EXISTS"`
	name     SchemaObjectIdentifier `ddl:"identifier"`
	Restrict *bool                  `ddl:"keyword" sql:"RESTRICT"`
}

// ShowHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/show-hybrid-tables.
type ShowHybridTableOptions struct {
	show         bool       `ddl:"static" sql:"SHOW"`
	Terse        *bool      `ddl:"keyword" sql:"TERSE"`
	hybridTables bool       `ddl:"static" sql:"HYBRID TABLES"`
	Like         *Like      `ddl:"keyword" sql:"LIKE"`
	In           *In        `ddl:"keyword" sql:"IN"`
	StartsWith   *string    `ddl:"parameter,single_quotes,no_equals" sql:"STARTS WITH"`
	Limit        *LimitFrom `ddl:"keyword" sql:"LIMIT"`
}

type hybridTableRow struct {
	CreatedOn    time.Time      `db:"created_on"`
	Name         string         `db:"name"`
	DatabaseName string         `db:"database_name"`
	SchemaName   string         `db:"schema_name"`
	Owner        sql.NullString `db:"owner"`
	// Manually adjusted: rows and bytes can be NULL for newly created tables
	Rows          sql.NullInt64  `db:"rows"`
	Bytes         sql.NullInt64  `db:"bytes"`
	Comment       sql.NullString `db:"comment"`
	OwnerRoleType sql.NullString `db:"owner_role_type"`
}

type HybridTable struct {
	CreatedOn     time.Time
	Name          string
	DatabaseName  string
	SchemaName    string
	Owner         string
	Rows          int
	Bytes         int
	Comment       string
	OwnerRoleType string
}

func (v *HybridTable) ID() SchemaObjectIdentifier {
	return NewSchemaObjectIdentifier(v.DatabaseName, v.SchemaName, v.Name)
}

func (v *HybridTable) ObjectType() ObjectType {
	return ObjectTypeHybridTable
}

// DescribeHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/desc-table.
type DescribeHybridTableOptions struct {
	describe bool                   `ddl:"static" sql:"DESCRIBE"`
	table    bool                   `ddl:"static" sql:"TABLE"`
	name     SchemaObjectIdentifier `ddl:"identifier"`
}

type hybridTableDetailsRow struct {
	Name string `db:"name"`
	Type string `db:"type"`
	Kind string `db:"kind"`
	// Manually adjusted: Snowflake DESCRIBE TABLE returns column named "null?" with question mark.
	// The generator cannot produce "?" in tag names, so this requires manual adjustment.
	Null                  string         `db:"null?"`
	Default               sql.NullString `db:"default"`
	PrimaryKey            string         `db:"primary key"`
	UniqueKey             string         `db:"unique key"`
	Check                 sql.NullString `db:"check"`
	Expression            sql.NullString `db:"expression"`
	Comment               sql.NullString `db:"comment"`
	PolicyName            sql.NullString `db:"policy name"`
	PrivacyDomain         sql.NullString `db:"privacy domain"`
	SchemaEvolutionRecord sql.NullString `db:"schema_evolution_record"`
}

type HybridTableDetails struct {
	Name                  string
	Type                  string
	Kind                  string
	IsNullable            string
	Default               string
	PrimaryKey            string
	UniqueKey             string
	Check                 string
	Expression            string
	Comment               string
	PolicyName            string
	PrivacyDomain         string
	SchemaEvolutionRecord string
}
