// Code generated by SDK builder generator (v0.1.0); DO NOT EDIT.

package sdk

import (
	"context"
	"database/sql"
	"time"
)

type HybridTables interface {
	Create(ctx context.Context, request *CreateHybridTableRequest) error
	Alter(ctx context.Context, request *AlterHybridTableRequest) error
	Drop(ctx context.Context, request *DropHybridTableRequest) error
	DropSafely(ctx context.Context, id SchemaObjectIdentifier) error
	Show(ctx context.Context, request *ShowHybridTableRequest) ([]HybridTable, error)
	ShowByID(ctx context.Context, id SchemaObjectIdentifier) (*HybridTable, error)
	ShowByIDSafely(ctx context.Context, id SchemaObjectIdentifier) (*HybridTable, error)
	Describe(ctx context.Context, id SchemaObjectIdentifier) ([]HybridTableDetails, error)
	// Manually added index operations (rule 13) - these are standalone SQL commands
	// implemented in hybrid_tables_ext.go, not part of the generator output
	CreateIndex(ctx context.Context, request *CreateHybridTableIndexRequest) error
	DropIndex(ctx context.Context, request *DropHybridTableIndexRequest) error
	ShowIndexes(ctx context.Context, request *ShowHybridTableIndexesRequest) ([]HybridTableIndex, error)
}

// CreateHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/create-hybrid-table.
type CreateHybridTableOptions struct {
	create                  bool                                    `ddl:"static" sql:"CREATE"`
	OrReplace               *bool                                   `ddl:"keyword" sql:"OR REPLACE"`
	hybridTable             bool                                    `ddl:"static" sql:"HYBRID TABLE"`
	IfNotExists             *bool                                   `ddl:"keyword" sql:"IF NOT EXISTS"`
	name                    SchemaObjectIdentifier                  `ddl:"identifier"`
	ColumnsAndConstraints   HybridTableColumnsConstraintsAndIndexes `ddl:"list,parentheses"`
	DataRetentionTimeInDays *int                                    `ddl:"parameter" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	Comment                 *string                                 `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

// AlterHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/alter-table.
type AlterHybridTableOptions struct {
	alter             bool                          `ddl:"static" sql:"ALTER"`
	table             bool                          `ddl:"static" sql:"TABLE"`
	IfExists          *bool                         `ddl:"keyword" sql:"IF EXISTS"`
	name              SchemaObjectIdentifier        `ddl:"identifier"`
	ConstraintAction  *HybridTableConstraintAction  `ddl:"keyword"`
	AlterColumnAction *HybridTableAlterColumnAction `ddl:"keyword"`
	DropColumnAction  *HybridTableDropColumnAction  `ddl:"keyword"`
	DropIndexAction   *HybridTableDropIndexAction   `ddl:"keyword"`
	BuildIndexAction  *HybridTableBuildIndexAction  `ddl:"keyword"`
	Set               *HybridTableSetProperties     `ddl:"keyword" sql:"SET"`
	Unset             *HybridTableUnsetProperties   `ddl:"keyword" sql:"UNSET"`
}

type HybridTableConstraintAction struct {
	Add    *HybridTableConstraintActionAdd    `ddl:"keyword"`
	Drop   *HybridTableConstraintActionDrop   `ddl:"keyword"`
	Rename *HybridTableConstraintActionRename `ddl:"keyword"`
}

type HybridTableConstraintActionAdd struct {
	add                 bool                           `ddl:"static" sql:"ADD"`
	OutOfLineConstraint HybridTableOutOfLineConstraint `ddl:"keyword"`
}

type HybridTableConstraintActionDrop struct {
	drop                 bool                  `ddl:"static" sql:"DROP"`
	ConstraintName       *string               `ddl:"keyword" sql:"CONSTRAINT"`
	ColumnConstraintType *ColumnConstraintType `ddl:"keyword"`
	Columns              []string              `ddl:"keyword,parentheses"`
}

type HybridTableConstraintActionRename struct {
	renameConstraint bool   `ddl:"static" sql:"RENAME CONSTRAINT"`
	OldName          string `ddl:"keyword"`
	NewName          string `ddl:"keyword" sql:"TO"`
}

type HybridTableAlterColumnAction struct {
	alterColumn bool   `ddl:"static" sql:"ALTER COLUMN"`
	ColumnName  string `ddl:"keyword"`
	// Manually adjusted from ddl:"parameter,single_quotes" to ddl:"parameter,no_equals,single_quotes" per rule 13
	// ALTER COLUMN syntax requires "COMMENT 'value'" not "COMMENT = 'value'"
	// See: https://docs.snowflake.com/en/sql-reference/sql/alter-table
	Comment      *string `ddl:"parameter,no_equals,single_quotes" sql:"COMMENT"`
	UnsetComment *bool   `ddl:"keyword" sql:"UNSET COMMENT"`
}

type HybridTableDropColumnAction struct {
	dropColumn bool   `ddl:"static" sql:"DROP COLUMN"`
	ColumnName string `ddl:"keyword"`
}

type HybridTableDropIndexAction struct {
	dropIndex bool   `ddl:"static" sql:"DROP INDEX"`
	IndexName string `ddl:"keyword"`
}

type HybridTableBuildIndexAction struct {
	buildIndex bool   `ddl:"static" sql:"BUILD INDEX"`
	IndexName  string `ddl:"keyword"`
	Fence      *bool  `ddl:"keyword" sql:"FENCE"`
	Backfill   *bool  `ddl:"keyword" sql:"BACKFILL"`
}

type HybridTableSetProperties struct {
	DataRetentionTimeInDays *int    `ddl:"parameter" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	Comment                 *string `ddl:"parameter,single_quotes" sql:"COMMENT"`
}

type HybridTableUnsetProperties struct {
	DataRetentionTimeInDays *bool `ddl:"keyword" sql:"DATA_RETENTION_TIME_IN_DAYS"`
	Comment                 *bool `ddl:"keyword" sql:"COMMENT"`
}

// DropHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/drop-table.
type DropHybridTableOptions struct {
	drop     bool                   `ddl:"static" sql:"DROP"`
	table    bool                   `ddl:"static" sql:"TABLE"`
	IfExists *bool                  `ddl:"keyword" sql:"IF EXISTS"`
	name     SchemaObjectIdentifier `ddl:"identifier"`
	Restrict *bool                  `ddl:"keyword" sql:"RESTRICT"`
}

// ShowHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/show-hybrid-tables.
type ShowHybridTableOptions struct {
	show         bool       `ddl:"static" sql:"SHOW"`
	Terse        *bool      `ddl:"keyword" sql:"TERSE"`
	hybridTables bool       `ddl:"static" sql:"HYBRID TABLES"`
	Like         *Like      `ddl:"keyword" sql:"LIKE"`
	In           *In        `ddl:"keyword" sql:"IN"`
	StartsWith   *string    `ddl:"parameter,single_quotes,no_equals" sql:"STARTS WITH"`
	Limit        *LimitFrom `ddl:"keyword" sql:"LIMIT"`
}

type hybridTableRow struct {
	CreatedOn    time.Time      `db:"created_on"`
	Name         string         `db:"name"`
	DatabaseName string         `db:"database_name"`
	SchemaName   string         `db:"schema_name"`
	Owner        sql.NullString `db:"owner"`
	// Manually adjusted: rows and bytes can be NULL for newly created tables
	// Changed from int to sql.NullInt64 to handle NULL values (rule 13)
	Rows          sql.NullInt64  `db:"rows"`
	Bytes         sql.NullInt64  `db:"bytes"`
	Comment       sql.NullString `db:"comment"`
	OwnerRoleType sql.NullString `db:"owner_role_type"`
}

type HybridTable struct {
	CreatedOn     time.Time
	Name          string
	DatabaseName  string
	SchemaName    string
	Owner         string
	Rows          int
	Bytes         int
	Comment       string
	OwnerRoleType string
}

func (v *HybridTable) ID() SchemaObjectIdentifier {
	return NewSchemaObjectIdentifier(v.DatabaseName, v.SchemaName, v.Name)
}

func (v *HybridTable) ObjectType() ObjectType {
	return ObjectTypeHybridTable
}

// DescribeHybridTableOptions is based on https://docs.snowflake.com/en/sql-reference/sql/desc-table.
type DescribeHybridTableOptions struct {
	describe bool                   `ddl:"static" sql:"DESCRIBE"`
	table    bool                   `ddl:"static" sql:"TABLE"`
	name     SchemaObjectIdentifier `ddl:"identifier"`
}

type hybridTableDetailsRow struct {
	Name string `db:"name"`
	Type string `db:"type"`
	Kind string `db:"kind"`
	// Manually adjusted from db:"null" to db:"null?" per rule 13.
	// Snowflake DESCRIBE TABLE returns column named "null?" with question mark.
	// The generator cannot produce "?" in tag names, so this requires manual adjustment.
	// See: pkg/sdk/generator/defs/hybrid_tables_def.go lines 203-205.
	Null                  string         `db:"null?"`
	Default               sql.NullString `db:"default"`
	PrimaryKey            string         `db:"primary key"`
	UniqueKey             string         `db:"unique key"`
	Check                 sql.NullString `db:"check"`
	Expression            sql.NullString `db:"expression"`
	Comment               sql.NullString `db:"comment"`
	PolicyName            sql.NullString `db:"policy name"`
	PrivacyDomain         sql.NullString `db:"privacy domain"`
	SchemaEvolutionRecord sql.NullString `db:"schema_evolution_record"`
}

type HybridTableDetails struct {
	Name                  string
	Type                  string
	Kind                  string
	IsNullable            string
	Default               string
	PrimaryKey            string
	UniqueKey             string
	Check                 string
	Expression            string
	Comment               string
	PolicyName            string
	PrivacyDomain         string
	SchemaEvolutionRecord string
}
