---
page_title: "snowflake_tag Resource - terraform-provider-snowflake"
subcategory: "Stable"
description: |-
  Resource used to manage tags. For more information, check tag documentation https://docs.snowflake.com/en/sql-reference/sql/create-tag. For assigning tags to Snowflake objects, see tag_association resource ./tag_association.
---

~> **Required warehouse** For this resource, the provider now uses [tag references](https://docs.snowflake.com/en/sql-reference/functions/tag_references) to get information about masking policies attached to tags. This function requires a warehouse in the connection. Please, make sure you have either set a `DEFAULT_WAREHOUSE` for the user, or specified a warehouse in the provider configuration.

~> **Current limitations** Recently, the tags propagation was introduced (check [2025-05-14-tag-propagation](https://docs.snowflake.com/en/release-notes/2025/other/2025-05-14-tag-propagation)). This resource is not currently supporting the `ON_CONFLICT` attribute and the tag allowed values ordering. If needed, use the [`snowflake_execute`](./execute) for the time-being. This limitation will be addressed in the next versions of the provider.

~> **Note** A new `TAG_ALLOWED_VALUES_BEHAVIOR_CHANGES` experimental feature is available for this resource. When enabled, it improves how `allowed_values` are handled â€” removing `allowed_values` from the configuration correctly reverts the tag to accepting any value, and a new `no_allowed_values` field allows you to explicitly block any value from being set on the tag. Without the flag, the behavior is unchanged from previous versions and the `no_allowed_values` field has no effect. To enable it, add `TAG_ALLOWED_VALUES_BEHAVIOR_CHANGES` to the [`experimental_features_enabled`](https://registry.terraform.io/providers/snowflakedb/snowflake/latest/docs#experimental_features_enabled-1) provider field. See the [migration guide](https://github.com/snowflakedb/terraform-provider-snowflake/blob/main/MIGRATION_GUIDE.md#new-feature-improved-allowed_values-handling-in-snowflake_tag) for more details.

# snowflake_tag (Resource)

Resource used to manage tags. For more information, check [tag documentation](https://docs.snowflake.com/en/sql-reference/sql/create-tag). For assigning tags to Snowflake objects, see [tag_association resource](./tag_association).

## Example Usage

```terraform
# basic resource
resource "snowflake_tag" "tag" {
  name     = "tag"
  database = "database"
  schema   = "schema"
}

# complete resource
resource "snowflake_tag" "tag" {
  name             = "tag"
  database         = "database"
  schema           = "schema"
  comment          = "comment"
  allowed_values   = ["finance", "engineering", ""]
  masking_policies = [snowflake_masking_policy.example.fully_qualified_name]
}
```
-> **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult [identifiers guide](../guides/identifiers_rework_design_decisions#new-computed-fully-qualified-name-field-in-resources).
<!-- TODO(SNOW-1634854): include an example showing both methods-->

-> **Note** If a field has a default value, it is shown next to the type in the schema.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database` (String) The database in which to create the tag. Due to technical limitations (read more [here](../guides/identifiers_rework_design_decisions#known-limitations-and-identifier-recommendations)), avoid using the following characters: `|`, `.`, `"`.
- `name` (String) Specifies the identifier for the tag; must be unique for the database in which the tag is created. Due to technical limitations (read more [here](../guides/identifiers_rework_design_decisions#known-limitations-and-identifier-recommendations)), avoid using the following characters: `|`, `.`, `"`.
- `schema` (String) The schema in which to create the tag. Due to technical limitations (read more [here](../guides/identifiers_rework_design_decisions#known-limitations-and-identifier-recommendations)), avoid using the following characters: `|`, `.`, `"`.

### Optional

- `allowed_values` (Set of String) Set of allowed values for the tag.
- `comment` (String) Specifies a comment for the tag.
- `masking_policies` (Set of String) Set of masking policies for the tag. A tag can support one masking policy for each data type. If masking policies are assigned to the tag, before dropping the tag, the provider automatically unassigns them. For more information about this resource, see [docs](./masking_policy).
- `no_allowed_values` (Boolean) Whenever its set, no value is allowed with this tag
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `fully_qualified_name` (String) Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
- `id` (String) The ID of this resource.
- `show_output` (List of Object) Outputs the result of `SHOW TAGS` for the given tag. (see [below for nested schema](#nestedatt--show_output))

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)


<a id="nestedatt--show_output"></a>
### Nested Schema for `show_output`

Read-Only:

- `allowed_values` (Set of String)
- `comment` (String)
- `created_on` (String)
- `database_name` (String)
- `name` (String)
- `owner` (String)
- `owner_role_type` (String)
- `schema_name` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import snowflake_tag.example '"<database_name>"."<schema_name>"."<tag_name>"'
```
