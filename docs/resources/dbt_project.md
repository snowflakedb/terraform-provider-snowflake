---
page_title: "snowflake_dbt_project Resource - terraform-provider-snowflake"
subcategory: "Preview"
description: |-
  Resource used to manage DBT projects. For more information, check DBT projects documentation https://docs.snowflake.com/en/sql-reference/sql/create-dbt-project. DBT projects in Snowflake allow you to run dbt transformations directly within Snowflake using dbt Core. See DBT Projects Commands https://docs.snowflake.com/en/sql-reference/commands-dbt-projects-on-snowflake for more details.
---

!> **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `preview_features_enabled` field in the [provider configuration](https://registry.terraform.io/providers/snowflakedb/snowflake/latest/docs#schema). Please always refer to the [Getting Help](https://github.com/snowflakedb/terraform-provider-snowflake?tab=readme-ov-file#getting-help) section in our Github repo to best determine how to get help for your questions.

-> **Note** Quoted names for special characters or case-sensitive names are not supported. The same constraint also applies to database and schema names where you create a DBT project. That is, database and schema names without quotes are valid when creating a DBT project. This limitation in the provider follows the limitation in Snowflake (see [docs](https://docs.snowflake.com/en/sql-reference/sql/create-dbt-project)). Please use only characters compatible with [unquoted identifiers](https://docs.snowflake.com/en/sql-reference/identifiers-syntax#label-unquoted-identifier).

# snowflake_dbt_project (Resource)

Resource used to manage DBT projects. For more information, check [DBT projects documentation](https://docs.snowflake.com/en/sql-reference/sql/create-dbt-project). DBT projects in Snowflake allow you to run dbt transformations directly within Snowflake using dbt Core. See [DBT Projects Commands](https://docs.snowflake.com/en/sql-reference/commands-dbt-projects-on-snowflake) for more details.

## Example Usage

-> **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult [identifiers guide](../guides/identifiers_rework_design_decisions#new-computed-fully-qualified-name-field-in-resources).
<!-- TODO(SNOW-1634854): include an example showing both methods-->

```terraform
# basic resource
resource "snowflake_dbt_project" "basic" {
  database = "DATABASE"
  schema   = "SCHEMA"
  name     = "BASIC_DBT_PROJECT"
}

# complete resource with all optional parameters
resource "snowflake_dbt_project" "complete" {
  database        = "DATABASE"
  schema          = "SCHEMA"
  name            = "COMPLETE_DBT_PROJECT"
  from            = "@my_stage/dbt_project"
  default_args    = "--target prod"
  default_version = "LAST"
  comment         = "An example DBT project for data transformations"
}

# resource with Git integration (automatic cloning and upload)
resource "snowflake_dbt_project" "from_git" {
  database = "DATABASE"
  schema   = "SCHEMA"
  name     = "GIT_DBT_PROJECT"

  git_source {
    repository_url = "https://github.com/user/dbt-project.git"
    branch         = "main"
    path           = "dbt_project"  # Optional: subdirectory within repo
    stage          = snowflake_stage.my_stage.fully_qualified_name
    stage_path     = "my_project"  # Optional: path within stage
  }

  default_args    = "--target production --vars '{\"env\": \"prod\"}'"
  default_version = "LAST"
  comment         = "DBT project with automatic Git integration"
}

# resource with Git tag for stable deployments
resource "snowflake_dbt_project" "git_stable" {
  database = "DATABASE"
  schema   = "SCHEMA"
  name     = "STABLE_DBT_PROJECT"

  git_source {
    repository_url = "https://github.com/user/dbt-project.git"
    tag            = "v1.0.0"  # Use specific tag instead of branch
    stage          = snowflake_stage.my_stage.fully_qualified_name
    stage_path     = "stable"
  }

  default_version = "FIRST"
  comment         = "Stable DBT project from Git tag"
}

# resource with manual stage upload (traditional approach)
resource "snowflake_dbt_project" "manual_stage" {
  database        = "DATABASE"
  schema          = "SCHEMA"
  name            = "MANUAL_DBT_PROJECT"
  from            = "@internal_stage/dbt_project"
  default_version = "FIRST"
  comment         = "DBT project using manually uploaded files"
}
```

-> **Note** If a field has a default value, it is shown next to the type in the schema.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database` (String) The database in which to create the DBT project. Due to technical limitations (read more [here](../guides/identifiers_rework_design_decisions#known-limitations-and-identifier-recommendations)), avoid using the following characters: `|`, `.`, `"`.
- `name` (String) Specifies the identifier for the DBT project; must be unique for the schema in which the DBT project is created. Due to technical limitations (read more [here](../guides/identifiers_rework_design_decisions#known-limitations-and-identifier-recommendations)), avoid using the following characters: `|`, `.`, `"`.
- `schema` (String) The schema in which to create the DBT project. Due to technical limitations (read more [here](../guides/identifiers_rework_design_decisions#known-limitations-and-identifier-recommendations)), avoid using the following characters: `|`, `.`, `"`.

### Optional

- `comment` (String) Specifies a comment for the DBT project.
- `default_args` (String) Specifies the default arguments to pass to dbt commands when running the project.
- `default_version` (String) Specifies the default version of the DBT project to use. Valid values are `FIRST`, `LAST`, or `VERSION$<number>` (e.g., `VERSION$1`).
- `from` (String) Specifies the location of the DBT project files. This should be a stage location (e.g., `@my_stage/dbt_project`). Mutually exclusive with `git_source`.
- `git_source` (Block List, Max: 1) Git repository source configuration for the DBT project. The provider will clone the repository and upload files to a stage. Mutually exclusive with `from`. (see [below for nested schema](#nestedblock--git_source))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `fully_qualified_name` (String) Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
- `git_repository_fqn` (String) Fully qualified name of the stage used for Git repository files (when using git_source).
- `id` (String) The ID of this resource.
- `show_output` (List of Object) Outputs the result of `SHOW DBT PROJECTS` for the given DBT project. (see [below for nested schema](#nestedatt--show_output))

<a id="nestedblock--git_source"></a>
### Nested Schema for `git_source`

Required:

- `repository_url` (String) Git repository URL (e.g., https://github.com/user/repo.git)
- `stage` (String) Snowflake stage where the Git repository files will be uploaded

Optional:

- `branch` (String) Git branch to use (default: main). Mutually exclusive with `tag`.
- `path` (String) Path within the repository to the DBT project (default: root)
- `stage_path` (String) Path within the stage where files will be uploaded (optional)
- `tag` (String) Git tag to use. Mutually exclusive with `branch`.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)

<a id="nestedatt--show_output"></a>
### Nested Schema for `show_output`

Read-Only:

- `comment` (String)
- `created_on` (String)
- `database_name` (String)
- `default_args` (String)
- `default_version` (String)
- `name` (String)
- `owner` (String)
- `owner_role_type` (String)
- `schema_name` (String)
- `source_location` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import snowflake_dbt_project.example '"<database_name>"."<schema_name>"."<dbt_project_name>"'
```
