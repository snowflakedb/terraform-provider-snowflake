---
page_title: "snowflake_image_repositories Data Source - terraform-provider-snowflake"
subcategory: "Preview"
description: |-
  Data source used to get details of filtered image repositories. Filtering is aligned with the current possibilities for SHOW IMAGE REPOSITORIES https://docs.snowflake.com/en/sql-reference/sql/show-image-repositories query. The results of SHOW are encapsulated in one output collection image_repositories.
---

!> **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `preview_features_enabled` field in the [provider configuration](https://registry.terraform.io/providers/snowflakedb/snowflake/latest/docs#schema). Please always refer to the [Getting Help](https://github.com/snowflakedb/terraform-provider-snowflake?tab=readme-ov-file#getting-help) section in our Github repo to best determine how to get help for your questions.

# snowflake_image_repositories (Data Source)

Data source used to get details of filtered image repositories. Filtering is aligned with the current possibilities for [SHOW IMAGE REPOSITORIES](https://docs.snowflake.com/en/sql-reference/sql/show-image-repositories) query. The results of SHOW are encapsulated in one output collection `image_repositories`.

## Example Usage

```terraform
# Simple usage
data "snowflake_image_repositories" "simple" {
}

output "simple_output" {
  value = data.snowflake_image_repositories.simple.image_repositories
}

# Filtering (like)
data "snowflake_image_repositories" "like" {
  like = "image-repository-name"
}

output "like_output" {
  value = data.snowflake_image_repositories.like.image_repositories
}

# Filtering by prefix (like)
data "snowflake_image_repositories" "like_prefix" {
  like = "prefix%"
}

output "like_prefix_output" {
  value = data.snowflake_image_repositories.like_prefix.image_repositories
}

# Filtering (in)
data "snowflake_image_repositories" "in_account" {
  in {
    account = true
  }
}

data "snowflake_image_repositories" "in_database" {
  in {
    database = "<database_name>"
  }
}

data "snowflake_image_repositories" "in_schema" {
  in {
    schema = "<database_name>.<schema_name>"
  }
}

output "in_output" {
  value = {
    "account" : data.snowflake_image_repositories.in_account.image_repositories,
    "database" : data.snowflake_image_repositories.in_database.image_repositories,
    "schema" : data.snowflake_image_repositories.in_schema.image_repositories,
  }
}

# Ensure the number of image repositories is equal to at least one element (with the use of postcondition)
data "snowflake_image_repositories" "assert_with_postcondition" {
  like = "image-repository-name%"
  lifecycle {
    postcondition {
      condition     = length(self.image_repositories) > 0
      error_message = "there should be at least one image repository"
    }
  }
}

# Ensure the number of image repositories is equal to at exactly one element (with the use of check block)
check "image_repository_check" {
  data "snowflake_image_repositories" "assert_with_check_block" {
    like = "image-repository-name"
  }

  assert {
    condition     = length(data.snowflake_image_repositories.assert_with_check_block.image_repositories) == 1
    error_message = "image repositories filtered by '${data.snowflake_image_repositories.assert_with_check_block.like}' returned ${length(data.snowflake_image_repositories.assert_with_check_block.image_repositories)} image repositories where one was expected"
  }
}
```

-> **Note** If a field has a default value, it is shown next to the type in the schema.

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `in` (Block List, Max: 1) IN clause to filter the list of objects (see [below for nested schema](#nestedblock--in))
- `like` (String) Filters the output with **case-insensitive** pattern, with support for SQL wildcard characters (`%` and `_`).

### Read-Only

- `id` (String) The ID of this resource.
- `image_repositories` (List of Object) Holds the aggregated output of all image repositories details queries. (see [below for nested schema](#nestedatt--image_repositories))

<a id="nestedblock--in"></a>
### Nested Schema for `in`

Optional:

- `account` (Boolean) Returns records for the entire account.
- `database` (String) Returns records for the current database in use or for a specified database.
- `schema` (String) Returns records for the current schema in use or a specified schema. Use fully qualified name.


<a id="nestedatt--image_repositories"></a>
### Nested Schema for `image_repositories`

Read-Only:

- `show_output` (List of Object) (see [below for nested schema](#nestedobjatt--image_repositories--show_output))

<a id="nestedobjatt--image_repositories--show_output"></a>
### Nested Schema for `image_repositories.show_output`

Read-Only:

- `comment` (String)
- `created_on` (String)
- `database_name` (String)
- `name` (String)
- `owner` (String)
- `owner_role_type` (String)
- `privatelink_repository_url` (String)
- `repository_url` (String)
- `schema_name` (String)
